====================
PMR2 Content Classes
====================

------------
Introduction
------------

There are a number of content types that make up the PMR2 application.

  PMR2
    The root container, it contains vital attributes required for the
    operation of the repository.  One such attribute is the repository
    root directory on the file system; only site managers will have
    access to the form that can manipulate this field by default.
    
    This container also contains other containers to group similar PMR2 
    related objects together, and can optionally contain other Plone
    document types for documentation purposes (e.g. an introduction page
    for the repository instance).

  WorkspaceContainer
    Contains workspaces and provides methods that will aid site managers
    to manage the data it contains.

  Workspace
    It encapsulates an instance of a Version Control System (VCS).  
    Currently Mercurial is the only VCS supported; access to the data 
    within is provided by pmr2.mercurial.

  SandboxContainer
    Contains sandboxes and provides methods that will aid site managers
    to manage the data it contains.

  Sandbox
    Identical to Workspace in terms of functions provided, it also
    provides an environment similar to a checkout of a repository (or
    writable clone of one).  Provides methods to manipulate files and
    changesets.

  ExposureContainer
    Contains exposures.

  Exposure
    These can be considered as published models.  They are created from
    a specific revision of a workspace.  Meaningful presentational views
    can be constructed.

  ExposureDocument
    Based on ATDocument.  Provides the safe rendering of documentation
    in HTML format.

-----
Usage
-----

Here we will test out the content type classes and check out the methods
they provide.  Before we start, we need the utility that will store the
settings for PMR2 registered and add the container objects to the portal
root.
::

    >>> from zope.component import getUtility
    >>> from pmr2.app.content import *
    >>> from pmr2.app.interfaces import IPMR2GlobalSettings
    >>> pmr2_settings = getUtility(IPMR2GlobalSettings)
    >>> pmr2_settings.repo_root = self.tmpdir
    >>> self.portal['workspace'] = WorkspaceContainer()
    >>> self.portal.workspace
    <WorkspaceContainer at /plone/workspace>
    >>> self.portal['sandbox'] = SandboxContainer()
    >>> self.portal.sandbox
    <SandboxContainer at /plone/sandbox>
    >>> self.portal['exposure'] = ExposureContainer()
    >>> self.portal.exposure
    <ExposureContainer at /plone/exposure>
