Global Settings
===============

Just to show that the method works
::

    >>> from pmr2.app.settings import IPMR2GlobalSettings
    >>> from zope.component import getUtility
    >>> pmr2_settings = getUtility(IPMR2GlobalSettings)
    >>> pmr2_settings
    <pmr2.app.settings.PMR2GlobalSettingsAnnotation object ...>
    >>> 'pmr2' in pmr2_settings.repo_root
    True

Also that the edit form actually works on the gloabl settings.  Note
how pmr2_settings created from above is not acquired again.
::

    >>> from pmr2.app.browser.settings import PMR2GlobalSettingsEditForm
    >>> from pmr2.app.tests.base import TestRequest
    >>> request = TestRequest(
    ...     form={
    ...         'form.widgets.repo_root': self.tmpdir,
    ...         'form.buttons.apply': 1,
    ...     })
    >>> f = PMR2GlobalSettingsEditForm(self.folder, request)
    >>> result = f()
    >>> pmr2_settings.repo_root == self.tmpdir
    True

The methods that compute/return path should return one.
::

    >>> pmr2_settings.find_path() == self.tmpdir
    True
    >>> pmr2_settings.has_dir() == self.tmpdir
    True

The portal object can have a path, however it does not exist yet.
::

    >>> from os.path import join
    >>> result = pmr2_settings.find_path(self.portal)
    >>> portal_path = join(self.tmpdir, self.portal.id)
    >>> result == portal_path
    True
    >>> pmr2_settings.has_dir(self.portal) is None
    True

This utility can create a path for a specific object.
::

    >>> result = pmr2_settings.make_dir(self.portal)
    >>> result == portal_path
    True
    >>> pmr2_settings.has_dir(self.portal) == portal_path
    True
